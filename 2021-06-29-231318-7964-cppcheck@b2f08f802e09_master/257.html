
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Cppcheck - HTML report - clib (cppcheck 2.3-1)</title>
    <link rel="stylesheet" href="style.css">
    <style>
pre { line-height: 125%; margin: 0; }
td.linenos pre { color: #000000; background-color: #f0f0f0; padding: 0 5px 0 5px; }
span.linenos { color: #000000; background-color: #f0f0f0; padding: 0 5px 0 5px; }
td.linenos pre.special { color: #000000; background-color: #ffffc0; padding: 0 5px 0 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding: 0 5px 0 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight { background: #ffffff; }
.highlight .c { color: #888888 } /* Comment */
.highlight .err { color: #FF0000; background-color: #FFAAAA } /* Error */
.highlight .k { color: #008800; font-weight: bold } /* Keyword */
.highlight .o { color: #333333 } /* Operator */
.highlight .ch { color: #888888 } /* Comment.Hashbang */
.highlight .cm { color: #888888 } /* Comment.Multiline */
.highlight .cp { color: #557799 } /* Comment.Preproc */
.highlight .cpf { color: #888888 } /* Comment.PreprocFile */
.highlight .c1 { color: #888888 } /* Comment.Single */
.highlight .cs { color: #cc0000; font-weight: bold } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #c65d09; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008800; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008800; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008800; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #003388; font-weight: bold } /* Keyword.Pseudo */
.highlight .kr { color: #008800; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #333399; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #6600EE; font-weight: bold } /* Literal.Number */
.highlight .s { background-color: #fff0f0 } /* Literal.String */
.highlight .na { color: #0000CC } /* Name.Attribute */
.highlight .nb { color: #007020 } /* Name.Builtin */
.highlight .nc { color: #BB0066; font-weight: bold } /* Name.Class */
.highlight .no { color: #003366; font-weight: bold } /* Name.Constant */
.highlight .nd { color: #555555; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #880000; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #FF0000; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0066BB; font-weight: bold } /* Name.Function */
.highlight .nl { color: #997700; font-weight: bold } /* Name.Label */
.highlight .nn { color: #0e84b5; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #007700 } /* Name.Tag */
.highlight .nv { color: #996633 } /* Name.Variable */
.highlight .ow { color: #000000; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #6600EE; font-weight: bold } /* Literal.Number.Bin */
.highlight .mf { color: #6600EE; font-weight: bold } /* Literal.Number.Float */
.highlight .mh { color: #005588; font-weight: bold } /* Literal.Number.Hex */
.highlight .mi { color: #0000DD; font-weight: bold } /* Literal.Number.Integer */
.highlight .mo { color: #4400EE; font-weight: bold } /* Literal.Number.Oct */
.highlight .sa { background-color: #fff0f0 } /* Literal.String.Affix */
.highlight .sb { background-color: #fff0f0 } /* Literal.String.Backtick */
.highlight .sc { color: #0044DD } /* Literal.String.Char */
.highlight .dl { background-color: #fff0f0 } /* Literal.String.Delimiter */
.highlight .sd { color: #DD4422 } /* Literal.String.Doc */
.highlight .s2 { background-color: #fff0f0 } /* Literal.String.Double */
.highlight .se { color: #666666; font-weight: bold; background-color: #fff0f0 } /* Literal.String.Escape */
.highlight .sh { background-color: #fff0f0 } /* Literal.String.Heredoc */
.highlight .si { background-color: #eeeeee } /* Literal.String.Interpol */
.highlight .sx { color: #DD2200; background-color: #fff0f0 } /* Literal.String.Other */
.highlight .sr { color: #000000; background-color: #fff0ff } /* Literal.String.Regex */
.highlight .s1 { background-color: #fff0f0 } /* Literal.String.Single */
.highlight .ss { color: #AA6600 } /* Literal.String.Symbol */
.highlight .bp { color: #007020 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0066BB; font-weight: bold } /* Name.Function.Magic */
.highlight .vc { color: #336699 } /* Name.Variable.Class */
.highlight .vg { color: #dd7700; font-weight: bold } /* Name.Variable.Global */
.highlight .vi { color: #3333BB } /* Name.Variable.Instance */
.highlight .vm { color: #996633 } /* Name.Variable.Magic */
.highlight .il { color: #0000DD; font-weight: bold } /* Literal.Number.Integer.Long */
    </style>
    <script>
      function getStyle(el, styleProp) {
        var y;

        if (el.currentStyle) {
          y = el.currentStyle[styleProp];
        } else if (window.getComputedStyle) {
          y = document.defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);
        }

        return y;
      }

      function toggle() {
        var el = this.expandable_content;
        var mark = this.expandable_marker;

        if (el.style.display === "block") {
          el.style.display = "none";
          mark.textContent = "[+]";
        } else {
          el.style.display = "block";
          mark.textContent = "[-]";
        }
      }

      function initExpandables() {
        var elements = document.querySelectorAll(".expandable");

        for (var i = 0, len = elements.length; i < len; i++) {
          var el = elements[i];
          var clickable = el.querySelector("span");
          var marker = clickable.querySelector(".marker");
          var content = el.querySelector(".content");
          var width = clickable.clientWidth - parseInt(getStyle(content, "padding-left")) - parseInt(getStyle(content, "padding-right"));
          content.style.width = width + "px";
          clickable.expandable_content = content;
          clickable.expandable_marker = marker;
          clickable.addEventListener("click", toggle);
        }
      }

      function toggleDisplay(id) {
        var elements = document.querySelectorAll("." + id);

        for (var i = 0, len = elements.length; i < len; i++) {
          elements[i].classList.toggle("d-none");
        }
      }

      function toggleAll() {
        var elements = document.querySelectorAll("input");

        // starting from 1 since 0 is the "toggle all" input
        for (var i = 1, len = elements.length; i < len; i++) {
          var el = elements[i];

          if (el.checked) {
            el.checked = false;
          } else {
            el.checked = true;
          }

          toggleDisplay(el.id);
        }
      }
      window.addEventListener("load", initExpandables);
    </script>
  </head>
  <body>
    <div id="header" class="header">
      <h1>Cppcheck report - clib (cppcheck 2.3-1): glib/ggettext.c</h1>
    </div>
    <div class="wrapper">
      <div id="menu">
       <p id="filename"><a href="index.html">Defects:</a> ggettext.c</p>
<a href="257.html#line-0"> toomanyconfigs 0</a><a href="257.html#line-0"> noValidConfiguration 0</a>
    </div>
    <div id="content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637</pre></div></td><td class="code"><div class="highlight"><pre><span></span><a name="line-1"></a><span class="cm">/* GLIB - Library of useful routines for C programming</span>
<a name="line-2"></a><span class="cm"> * Copyright (C) 1995-1998  Peter Mattis, Spencer Kimball and Josh MacDonald</span>
<a name="line-3"></a><span class="cm"> *</span>
<a name="line-4"></a><span class="cm"> * This library is free software; you can redistribute it and/or</span>
<a name="line-5"></a><span class="cm"> * modify it under the terms of the GNU Lesser General Public</span>
<a name="line-6"></a><span class="cm"> * License as published by the Free Software Foundation; either</span>
<a name="line-7"></a><span class="cm"> * version 2.1 of the License, or (at your option) any later version.</span>
<a name="line-8"></a><span class="cm"> *</span>
<a name="line-9"></a><span class="cm"> * This library is distributed in the hope that it will be useful,</span>
<a name="line-10"></a><span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="line-11"></a><span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.	 See the GNU</span>
<a name="line-12"></a><span class="cm"> * Lesser General Public License for more details.</span>
<a name="line-13"></a><span class="cm"> *</span>
<a name="line-14"></a><span class="cm"> * You should have received a copy of the GNU Lesser General Public</span>
<a name="line-15"></a><span class="cm"> * License along with this library; if not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="line-16"></a><span class="cm"> */</span>
<a name="line-17"></a>
<a name="line-18"></a><span class="cm">/*</span>
<a name="line-19"></a><span class="cm"> * Modified by the GLib Team and others 1997-2000.  See the AUTHORS</span>
<a name="line-20"></a><span class="cm"> * file for a list of people on the GLib Team.  See the ChangeLog</span>
<a name="line-21"></a><span class="cm"> * files for a list of changes.  These files are distributed with</span>
<a name="line-22"></a><span class="cm"> * GLib at ftp://ftp.gtk.org/pub/gtk/. </span>
<a name="line-23"></a><span class="cm"> */</span>
<a name="line-24"></a>
<a name="line-25"></a><span class="cp">#include</span> <span class="cpf">&quot;config.h&quot;</span><span class="cp"></span>
<a name="line-26"></a>
<a name="line-27"></a><span class="cp">#include</span> <span class="cpf">&quot;ggettext.h&quot;</span><span class="cp"></span>
<a name="line-28"></a><span class="cp">#include</span> <span class="cpf">&quot;glibintl.h&quot;</span><span class="cp"></span>
<a name="line-29"></a><span class="cp">#include</span> <span class="cpf">&quot;glib-private.h&quot;</span><span class="cp"></span>
<a name="line-30"></a>
<a name="line-31"></a><span class="cp">#include</span> <span class="cpf">&quot;galloca.h&quot;</span><span class="cp"></span>
<a name="line-32"></a><span class="cp">#include</span> <span class="cpf">&quot;gthread.h&quot;</span><span class="cp"></span>
<a name="line-33"></a><span class="cp">#include</span> <span class="cpf">&quot;gmem.h&quot;</span><span class="cp"></span>
<a name="line-34"></a><span class="cp">#ifdef G_OS_WIN32</span>
<a name="line-35"></a><span class="cp">#include</span> <span class="cpf">&quot;gwin32.h&quot;</span><span class="cp"></span>
<a name="line-36"></a><span class="cp">#include</span> <span class="cpf">&quot;gfileutils.h&quot;</span><span class="cp"></span>
<a name="line-37"></a><span class="cp">#include</span> <span class="cpf">&quot;gstrfuncs.h&quot;</span><span class="cp"></span>
<a name="line-38"></a><span class="cp">#include</span> <span class="cpf">&quot;glib-init.h&quot;</span><span class="cp"></span>
<a name="line-39"></a><span class="cp">#endif</span>
<a name="line-40"></a>
<a name="line-41"></a><span class="cp">#include</span> <span class="cpf">&lt;string.h&gt;</span><span class="cp"></span>
<a name="line-42"></a><span class="cp">#include</span> <span class="cpf">&lt;locale.h&gt;</span><span class="cp"></span>
<a name="line-43"></a><span class="cp">#include</span> <span class="cpf">&lt;libintl.h&gt;</span><span class="cp"></span>
<a name="line-44"></a>
<a name="line-45"></a><span class="cp">#ifdef G_OS_WIN32</span>
<a name="line-46"></a>
<a name="line-47"></a><span class="cm">/**</span>
<a name="line-48"></a><span class="cm"> * _glib_get_locale_dir:</span>
<a name="line-49"></a><span class="cm"> *</span>
<a name="line-50"></a><span class="cm"> * Return the path to the share\locale or lib\locale subfolder of the</span>
<a name="line-51"></a><span class="cm"> * GLib installation folder. The path is in the system codepage. We</span>
<a name="line-52"></a><span class="cm"> * have to use system codepage as bindtextdomain() doesn&#39;t have a</span>
<a name="line-53"></a><span class="cm"> * UTF-8 interface.</span>
<a name="line-54"></a><span class="cm"> */</span>
<a name="line-55"></a><span class="n">gchar</span> <span class="o">*</span>
<a name="line-56"></a><span class="nf">_glib_get_locale_dir</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a name="line-57"></a><span class="p">{</span>
<a name="line-58"></a>  <span class="n">gchar</span> <span class="o">*</span><span class="n">install_dir</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span> <span class="o">*</span><span class="n">locale_dir</span><span class="p">;</span>
<a name="line-59"></a>  <span class="n">gchar</span> <span class="o">*</span><span class="n">retval</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
<a name="line-60"></a>
<a name="line-61"></a>  <span class="k">if</span> <span class="p">(</span><span class="n">glib_dll</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
<a name="line-62"></a>    <span class="n">install_dir</span> <span class="o">=</span> <span class="n">g_win32_get_package_installation_directory_of_module</span> <span class="p">(</span><span class="n">glib_dll</span><span class="p">);</span>
<a name="line-63"></a>
<a name="line-64"></a>  <span class="k">if</span> <span class="p">(</span><span class="n">install_dir</span><span class="p">)</span>
<a name="line-65"></a>    <span class="p">{</span>
<a name="line-66"></a>      <span class="cm">/*</span>
<a name="line-67"></a><span class="cm">       * Append &quot;/share/locale&quot; or &quot;/lib/locale&quot; depending on whether</span>
<a name="line-68"></a><span class="cm">       * autoconfigury detected GNU gettext or not.</span>
<a name="line-69"></a><span class="cm">       */</span>
<a name="line-70"></a>      <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">GLIB_LOCALE_DIR</span> <span class="o">+</span> <span class="n">strlen</span> <span class="p">(</span><span class="n">GLIB_LOCALE_DIR</span><span class="p">);</span>
<a name="line-71"></a>      <span class="k">while</span> <span class="p">(</span><span class="o">*--</span><span class="n">p</span> <span class="o">!=</span> <span class="sc">&#39;/&#39;</span><span class="p">)</span>
<a name="line-72"></a>	<span class="p">;</span>
<a name="line-73"></a>      <span class="k">while</span> <span class="p">(</span><span class="o">*--</span><span class="n">p</span> <span class="o">!=</span> <span class="sc">&#39;/&#39;</span><span class="p">)</span>
<a name="line-74"></a>	<span class="p">;</span>
<a name="line-75"></a>
<a name="line-76"></a>      <span class="n">locale_dir</span> <span class="o">=</span> <span class="n">g_build_filename</span> <span class="p">(</span><span class="n">install_dir</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
<a name="line-77"></a>
<a name="line-78"></a>      <span class="n">retval</span> <span class="o">=</span> <span class="n">g_win32_locale_filename_from_utf8</span> <span class="p">(</span><span class="n">locale_dir</span><span class="p">);</span>
<a name="line-79"></a>
<a name="line-80"></a>      <span class="n">g_free</span> <span class="p">(</span><span class="n">install_dir</span><span class="p">);</span>
<a name="line-81"></a>      <span class="n">g_free</span> <span class="p">(</span><span class="n">locale_dir</span><span class="p">);</span>
<a name="line-82"></a>    <span class="p">}</span>
<a name="line-83"></a>
<a name="line-84"></a>  <span class="k">if</span> <span class="p">(</span><span class="n">retval</span><span class="p">)</span>
<a name="line-85"></a>    <span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
<a name="line-86"></a>  <span class="k">else</span>
<a name="line-87"></a>    <span class="k">return</span> <span class="n">g_strdup</span> <span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
<a name="line-88"></a><span class="p">}</span>
<a name="line-89"></a>
<a name="line-90"></a><span class="cp">#undef GLIB_LOCALE_DIR</span>
<a name="line-91"></a>
<a name="line-92"></a><span class="cp">#endif </span><span class="cm">/* G_OS_WIN32 */</span><span class="cp"></span>
<a name="line-93"></a>
<a name="line-94"></a>
<a name="line-95"></a><span class="k">static</span> <span class="kt">void</span>
<a name="line-96"></a><span class="n">ensure_gettext_initialized</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a name="line-97"></a><span class="p">{</span>
<a name="line-98"></a>  <span class="k">static</span> <span class="n">gsize</span> <span class="n">initialised</span><span class="p">;</span>
<a name="line-99"></a>
<a name="line-100"></a>  <span class="k">if</span> <span class="p">(</span><span class="n">g_once_init_enter</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">initialised</span><span class="p">))</span>
<a name="line-101"></a>    <span class="p">{</span>
<a name="line-102"></a><span class="cp">#ifdef G_OS_WIN32</span>
<a name="line-103"></a>      <span class="n">gchar</span> <span class="o">*</span><span class="n">tmp</span> <span class="o">=</span> <span class="n">_glib_get_locale_dir</span> <span class="p">();</span>
<a name="line-104"></a>      <span class="n">bindtextdomain</span> <span class="p">(</span><span class="n">GETTEXT_PACKAGE</span><span class="p">,</span> <span class="n">tmp</span><span class="p">);</span>
<a name="line-105"></a>      <span class="n">g_free</span> <span class="p">(</span><span class="n">tmp</span><span class="p">);</span>
<a name="line-106"></a><span class="cp">#else</span>
<a name="line-107"></a>      <span class="n">bindtextdomain</span> <span class="p">(</span><span class="n">GETTEXT_PACKAGE</span><span class="p">,</span> <span class="n">GLIB_LOCALE_DIR</span><span class="p">);</span>
<a name="line-108"></a><span class="cp">#endif</span>
<a name="line-109"></a><span class="cp">#    ifdef HAVE_BIND_TEXTDOMAIN_CODESET</span>
<a name="line-110"></a>      <span class="n">bind_textdomain_codeset</span> <span class="p">(</span><span class="n">GETTEXT_PACKAGE</span><span class="p">,</span> <span class="s">&quot;UTF-8&quot;</span><span class="p">);</span>
<a name="line-111"></a><span class="cp">#    endif</span>
<a name="line-112"></a>      <span class="n">g_once_init_leave</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">initialised</span><span class="p">,</span> <span class="n">TRUE</span><span class="p">);</span>
<a name="line-113"></a>    <span class="p">}</span>
<a name="line-114"></a><span class="p">}</span>
<a name="line-115"></a>
<a name="line-116"></a><span class="cm">/**</span>
<a name="line-117"></a><span class="cm"> * glib_gettext:</span>
<a name="line-118"></a><span class="cm"> * @str: The string to be translated</span>
<a name="line-119"></a><span class="cm"> *</span>
<a name="line-120"></a><span class="cm"> * Returns the translated string from the glib translations.</span>
<a name="line-121"></a><span class="cm"> * This is an internal function and should only be used by</span>
<a name="line-122"></a><span class="cm"> * the internals of glib (such as libgio).</span>
<a name="line-123"></a><span class="cm"> *</span>
<a name="line-124"></a><span class="cm"> * Returns: the translation of @str to the current locale</span>
<a name="line-125"></a><span class="cm"> */</span>
<a name="line-126"></a><span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span>
<a name="line-127"></a><span class="n">glib_gettext</span> <span class="p">(</span><span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span><span class="n">str</span><span class="p">)</span>
<a name="line-128"></a><span class="p">{</span>
<a name="line-129"></a>  <span class="n">ensure_gettext_initialized</span> <span class="p">();</span>
<a name="line-130"></a>
<a name="line-131"></a>  <span class="k">return</span> <span class="nf">g_dgettext</span> <span class="p">(</span><span class="n">GETTEXT_PACKAGE</span><span class="p">,</span> <span class="n">str</span><span class="p">);</span>
<a name="line-132"></a><span class="p">}</span>
<a name="line-133"></a>
<a name="line-134"></a><span class="cm">/**</span>
<a name="line-135"></a><span class="cm"> * glib_pgettext:</span>
<a name="line-136"></a><span class="cm"> * @msgctxtid: a combined message context and message id, separated</span>
<a name="line-137"></a><span class="cm"> *   by a \004 character</span>
<a name="line-138"></a><span class="cm"> * @msgidoffset: the offset of the message id in @msgctxid</span>
<a name="line-139"></a><span class="cm"> *</span>
<a name="line-140"></a><span class="cm"> * This function is a variant of glib_gettext() which supports</span>
<a name="line-141"></a><span class="cm"> * a disambiguating message context. See g_dpgettext() for full</span>
<a name="line-142"></a><span class="cm"> * details.</span>
<a name="line-143"></a><span class="cm"> *</span>
<a name="line-144"></a><span class="cm"> * This is an internal function and should only be used by</span>
<a name="line-145"></a><span class="cm"> * the internals of glib (such as libgio).</span>
<a name="line-146"></a><span class="cm"> *</span>
<a name="line-147"></a><span class="cm"> * Returns: the translation of @str to the current locale</span>
<a name="line-148"></a><span class="cm"> */</span>
<a name="line-149"></a><span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span>
<a name="line-150"></a><span class="n">glib_pgettext</span> <span class="p">(</span><span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span><span class="n">msgctxtid</span><span class="p">,</span>
<a name="line-151"></a>               <span class="n">gsize</span>        <span class="n">msgidoffset</span><span class="p">)</span>
<a name="line-152"></a><span class="p">{</span>
<a name="line-153"></a>  <span class="n">ensure_gettext_initialized</span> <span class="p">();</span>
<a name="line-154"></a>
<a name="line-155"></a>  <span class="k">return</span> <span class="nf">g_dpgettext</span> <span class="p">(</span><span class="n">GETTEXT_PACKAGE</span><span class="p">,</span> <span class="n">msgctxtid</span><span class="p">,</span> <span class="n">msgidoffset</span><span class="p">);</span>
<a name="line-156"></a><span class="p">}</span>
<a name="line-157"></a>
<a name="line-158"></a><span class="cm">/**</span>
<a name="line-159"></a><span class="cm"> * g_strip_context:</span>
<a name="line-160"></a><span class="cm"> * @msgid: a string</span>
<a name="line-161"></a><span class="cm"> * @msgval: another string</span>
<a name="line-162"></a><span class="cm"> *</span>
<a name="line-163"></a><span class="cm"> * An auxiliary function for gettext() support (see Q_()).</span>
<a name="line-164"></a><span class="cm"> *</span>
<a name="line-165"></a><span class="cm"> * Returns: @msgval, unless @msgval is identical to @msgid</span>
<a name="line-166"></a><span class="cm"> *     and contains a &#39;|&#39; character, in which case a pointer to</span>
<a name="line-167"></a><span class="cm"> *     the substring of msgid after the first &#39;|&#39; character is returned.</span>
<a name="line-168"></a><span class="cm"> *</span>
<a name="line-169"></a><span class="cm"> * Since: 2.4</span>
<a name="line-170"></a><span class="cm"> */</span>
<a name="line-171"></a><span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span>
<a name="line-172"></a><span class="n">g_strip_context</span> <span class="p">(</span><span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span><span class="n">msgid</span><span class="p">,</span>
<a name="line-173"></a>                 <span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span><span class="n">msgval</span><span class="p">)</span>
<a name="line-174"></a><span class="p">{</span>
<a name="line-175"></a>  <span class="k">if</span> <span class="p">(</span><span class="n">msgval</span> <span class="o">==</span> <span class="n">msgid</span><span class="p">)</span>
<a name="line-176"></a>    <span class="p">{</span>
<a name="line-177"></a>      <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">c</span> <span class="o">=</span> <span class="n">strchr</span> <span class="p">(</span><span class="n">msgid</span><span class="p">,</span> <span class="sc">&#39;|&#39;</span><span class="p">);</span>
<a name="line-178"></a>      <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
<a name="line-179"></a>        <span class="k">return</span> <span class="n">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a name="line-180"></a>    <span class="p">}</span>
<a name="line-181"></a>
<a name="line-182"></a>  <span class="k">return</span> <span class="n">msgval</span><span class="p">;</span>
<a name="line-183"></a><span class="p">}</span>
<a name="line-184"></a>
<a name="line-185"></a><span class="cm">/**</span>
<a name="line-186"></a><span class="cm"> * g_dpgettext:</span>
<a name="line-187"></a><span class="cm"> * @domain: (nullable): the translation domain to use, or %NULL to use</span>
<a name="line-188"></a><span class="cm"> *   the domain set with textdomain()</span>
<a name="line-189"></a><span class="cm"> * @msgctxtid: a combined message context and message id, separated</span>
<a name="line-190"></a><span class="cm"> *   by a \004 character</span>
<a name="line-191"></a><span class="cm"> * @msgidoffset: the offset of the message id in @msgctxid</span>
<a name="line-192"></a><span class="cm"> *</span>
<a name="line-193"></a><span class="cm"> * This function is a variant of g_dgettext() which supports</span>
<a name="line-194"></a><span class="cm"> * a disambiguating message context. GNU gettext uses the</span>
<a name="line-195"></a><span class="cm"> * &#39;\004&#39; character to separate the message context and</span>
<a name="line-196"></a><span class="cm"> * message id in @msgctxtid.</span>
<a name="line-197"></a><span class="cm"> * If 0 is passed as @msgidoffset, this function will fall back to</span>
<a name="line-198"></a><span class="cm"> * trying to use the deprecated convention of using &quot;|&quot; as a separation</span>
<a name="line-199"></a><span class="cm"> * character.</span>
<a name="line-200"></a><span class="cm"> *</span>
<a name="line-201"></a><span class="cm"> * This uses g_dgettext() internally. See that functions for differences</span>
<a name="line-202"></a><span class="cm"> * with dgettext() proper.</span>
<a name="line-203"></a><span class="cm"> *</span>
<a name="line-204"></a><span class="cm"> * Applications should normally not use this function directly,</span>
<a name="line-205"></a><span class="cm"> * but use the C_() macro for translations with context.</span>
<a name="line-206"></a><span class="cm"> *</span>
<a name="line-207"></a><span class="cm"> * Returns: The translated string</span>
<a name="line-208"></a><span class="cm"> *</span>
<a name="line-209"></a><span class="cm"> * Since: 2.16</span>
<a name="line-210"></a><span class="cm"> */</span>
<a name="line-211"></a><span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span>
<a name="line-212"></a><span class="n">g_dpgettext</span> <span class="p">(</span><span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span><span class="n">domain</span><span class="p">,</span>
<a name="line-213"></a>             <span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span><span class="n">msgctxtid</span><span class="p">,</span>
<a name="line-214"></a>             <span class="n">gsize</span>        <span class="n">msgidoffset</span><span class="p">)</span>
<a name="line-215"></a><span class="p">{</span>
<a name="line-216"></a>  <span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span><span class="n">translation</span><span class="p">;</span>
<a name="line-217"></a>  <span class="n">gchar</span> <span class="o">*</span><span class="n">sep</span><span class="p">;</span>
<a name="line-218"></a>
<a name="line-219"></a>  <span class="n">translation</span> <span class="o">=</span> <span class="n">g_dgettext</span> <span class="p">(</span><span class="n">domain</span><span class="p">,</span> <span class="n">msgctxtid</span><span class="p">);</span>
<a name="line-220"></a>
<a name="line-221"></a>  <span class="k">if</span> <span class="p">(</span><span class="n">translation</span> <span class="o">==</span> <span class="n">msgctxtid</span><span class="p">)</span>
<a name="line-222"></a>    <span class="p">{</span>
<a name="line-223"></a>      <span class="k">if</span> <span class="p">(</span><span class="n">msgidoffset</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
<a name="line-224"></a>        <span class="k">return</span> <span class="n">msgctxtid</span> <span class="o">+</span> <span class="n">msgidoffset</span><span class="p">;</span>
<a name="line-225"></a>      <span class="n">sep</span> <span class="o">=</span> <span class="n">strchr</span> <span class="p">(</span><span class="n">msgctxtid</span><span class="p">,</span> <span class="sc">&#39;|&#39;</span><span class="p">);</span>
<a name="line-226"></a>
<a name="line-227"></a>      <span class="k">if</span> <span class="p">(</span><span class="n">sep</span><span class="p">)</span>
<a name="line-228"></a>        <span class="p">{</span>
<a name="line-229"></a>          <span class="cm">/* try with &#39;\004&#39; instead of &#39;|&#39;, in case</span>
<a name="line-230"></a><span class="cm">           * xgettext -kQ_:1g was used</span>
<a name="line-231"></a><span class="cm">           */</span>
<a name="line-232"></a>          <span class="n">gchar</span> <span class="o">*</span><span class="n">tmp</span> <span class="o">=</span> <span class="n">g_alloca</span> <span class="p">(</span><span class="n">strlen</span> <span class="p">(</span><span class="n">msgctxtid</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
<a name="line-233"></a>          <span class="n">strcpy</span> <span class="p">(</span><span class="n">tmp</span><span class="p">,</span> <span class="n">msgctxtid</span><span class="p">);</span>
<a name="line-234"></a>          <span class="n">tmp</span><span class="p">[</span><span class="n">sep</span> <span class="o">-</span> <span class="n">msgctxtid</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;\004&#39;</span><span class="p">;</span>
<a name="line-235"></a>
<a name="line-236"></a>          <span class="n">translation</span> <span class="o">=</span> <span class="n">g_dgettext</span> <span class="p">(</span><span class="n">domain</span><span class="p">,</span> <span class="n">tmp</span><span class="p">);</span>
<a name="line-237"></a>
<a name="line-238"></a>          <span class="k">if</span> <span class="p">(</span><span class="n">translation</span> <span class="o">==</span> <span class="n">tmp</span><span class="p">)</span>
<a name="line-239"></a>            <span class="k">return</span> <span class="n">sep</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a name="line-240"></a>        <span class="p">}</span>
<a name="line-241"></a>    <span class="p">}</span>
<a name="line-242"></a>
<a name="line-243"></a>  <span class="k">return</span> <span class="n">translation</span><span class="p">;</span>
<a name="line-244"></a><span class="p">}</span>
<a name="line-245"></a>
<a name="line-246"></a><span class="cm">/* This function is taken from gettext.h</span>
<a name="line-247"></a><span class="cm"> * GNU gettext uses &#39;\004&#39; to separate context and msgid in .mo files.</span>
<a name="line-248"></a><span class="cm"> */</span>
<a name="line-249"></a><span class="cm">/**</span>
<a name="line-250"></a><span class="cm"> * g_dpgettext2:</span>
<a name="line-251"></a><span class="cm"> * @domain: (nullable): the translation domain to use, or %NULL to use</span>
<a name="line-252"></a><span class="cm"> *   the domain set with textdomain()</span>
<a name="line-253"></a><span class="cm"> * @context: the message context</span>
<a name="line-254"></a><span class="cm"> * @msgid: the message</span>
<a name="line-255"></a><span class="cm"> *</span>
<a name="line-256"></a><span class="cm"> * This function is a variant of g_dgettext() which supports</span>
<a name="line-257"></a><span class="cm"> * a disambiguating message context. GNU gettext uses the</span>
<a name="line-258"></a><span class="cm"> * &#39;\004&#39; character to separate the message context and</span>
<a name="line-259"></a><span class="cm"> * message id in @msgctxtid.</span>
<a name="line-260"></a><span class="cm"> *</span>
<a name="line-261"></a><span class="cm"> * This uses g_dgettext() internally. See that functions for differences</span>
<a name="line-262"></a><span class="cm"> * with dgettext() proper.</span>
<a name="line-263"></a><span class="cm"> *</span>
<a name="line-264"></a><span class="cm"> * This function differs from C_() in that it is not a macro and</span>
<a name="line-265"></a><span class="cm"> * thus you may use non-string-literals as context and msgid arguments.</span>
<a name="line-266"></a><span class="cm"> *</span>
<a name="line-267"></a><span class="cm"> * Returns: The translated string</span>
<a name="line-268"></a><span class="cm"> *</span>
<a name="line-269"></a><span class="cm"> * Since: 2.18</span>
<a name="line-270"></a><span class="cm"> */</span>
<a name="line-271"></a><span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span>
<a name="line-272"></a><span class="n">g_dpgettext2</span> <span class="p">(</span><span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span><span class="n">domain</span><span class="p">,</span>
<a name="line-273"></a>              <span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span><span class="n">msgctxt</span><span class="p">,</span>
<a name="line-274"></a>              <span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span><span class="n">msgid</span><span class="p">)</span>
<a name="line-275"></a><span class="p">{</span>
<a name="line-276"></a>  <span class="kt">size_t</span> <span class="n">msgctxt_len</span> <span class="o">=</span> <span class="n">strlen</span> <span class="p">(</span><span class="n">msgctxt</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a name="line-277"></a>  <span class="kt">size_t</span> <span class="n">msgid_len</span> <span class="o">=</span> <span class="n">strlen</span> <span class="p">(</span><span class="n">msgid</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a name="line-278"></a>  <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">translation</span><span class="p">;</span>
<a name="line-279"></a>  <span class="kt">char</span><span class="o">*</span> <span class="n">msg_ctxt_id</span><span class="p">;</span>
<a name="line-280"></a>
<a name="line-281"></a>  <span class="n">msg_ctxt_id</span> <span class="o">=</span> <span class="n">g_alloca</span> <span class="p">(</span><span class="n">msgctxt_len</span> <span class="o">+</span> <span class="n">msgid_len</span><span class="p">);</span>
<a name="line-282"></a>
<a name="line-283"></a>  <span class="n">memcpy</span> <span class="p">(</span><span class="n">msg_ctxt_id</span><span class="p">,</span> <span class="n">msgctxt</span><span class="p">,</span> <span class="n">msgctxt_len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
<a name="line-284"></a>  <span class="n">msg_ctxt_id</span><span class="p">[</span><span class="n">msgctxt_len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;\004&#39;</span><span class="p">;</span>
<a name="line-285"></a>  <span class="n">memcpy</span> <span class="p">(</span><span class="n">msg_ctxt_id</span> <span class="o">+</span> <span class="n">msgctxt_len</span><span class="p">,</span> <span class="n">msgid</span><span class="p">,</span> <span class="n">msgid_len</span><span class="p">);</span>
<a name="line-286"></a>
<a name="line-287"></a>  <span class="n">translation</span> <span class="o">=</span> <span class="n">g_dgettext</span> <span class="p">(</span><span class="n">domain</span><span class="p">,</span> <span class="n">msg_ctxt_id</span><span class="p">);</span>
<a name="line-288"></a>
<a name="line-289"></a>  <span class="k">if</span> <span class="p">(</span><span class="n">translation</span> <span class="o">==</span> <span class="n">msg_ctxt_id</span><span class="p">)</span>
<a name="line-290"></a>    <span class="p">{</span>
<a name="line-291"></a>      <span class="cm">/* try the old way of doing message contexts, too */</span>
<a name="line-292"></a>      <span class="n">msg_ctxt_id</span><span class="p">[</span><span class="n">msgctxt_len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;|&#39;</span><span class="p">;</span>
<a name="line-293"></a>      <span class="n">translation</span> <span class="o">=</span> <span class="n">g_dgettext</span> <span class="p">(</span><span class="n">domain</span><span class="p">,</span> <span class="n">msg_ctxt_id</span><span class="p">);</span>
<a name="line-294"></a>
<a name="line-295"></a>      <span class="k">if</span> <span class="p">(</span><span class="n">translation</span> <span class="o">==</span> <span class="n">msg_ctxt_id</span><span class="p">)</span>
<a name="line-296"></a>        <span class="k">return</span> <span class="n">msgid</span><span class="p">;</span>
<a name="line-297"></a>    <span class="p">}</span>
<a name="line-298"></a>
<a name="line-299"></a>  <span class="k">return</span> <span class="n">translation</span><span class="p">;</span>
<a name="line-300"></a><span class="p">}</span>
<a name="line-301"></a>
<a name="line-302"></a><span class="k">static</span> <span class="n">gboolean</span>
<a name="line-303"></a><span class="n">_g_dgettext_should_translate</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a name="line-304"></a><span class="p">{</span>
<a name="line-305"></a>  <span class="k">static</span> <span class="n">gsize</span> <span class="n">translate</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<a name="line-306"></a>  <span class="k">enum</span> <span class="p">{</span>
<a name="line-307"></a>    <span class="n">SHOULD_TRANSLATE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<a name="line-308"></a>    <span class="n">SHOULD_NOT_TRANSLATE</span> <span class="o">=</span> <span class="mi">2</span>
<a name="line-309"></a>  <span class="p">};</span>
<a name="line-310"></a>
<a name="line-311"></a>  <span class="k">if</span> <span class="p">(</span><span class="n">G_UNLIKELY</span> <span class="p">(</span><span class="n">g_once_init_enter</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">translate</span><span class="p">)))</span>
<a name="line-312"></a>    <span class="p">{</span>
<a name="line-313"></a>      <span class="n">gboolean</span> <span class="n">should_translate</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
<a name="line-314"></a>
<a name="line-315"></a>      <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">default_domain</span>     <span class="o">=</span> <span class="n">textdomain</span> <span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
<a name="line-316"></a>      <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">translator_comment</span> <span class="o">=</span> <span class="n">gettext</span> <span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
<a name="line-317"></a><span class="cp">#ifndef G_OS_WIN32</span>
<a name="line-318"></a>      <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">translate_locale</span>   <span class="o">=</span> <span class="n">setlocale</span> <span class="p">(</span><span class="n">LC_MESSAGES</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
<a name="line-319"></a><span class="cp">#else</span>
<a name="line-320"></a>      <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">translate_locale</span>   <span class="o">=</span> <span class="n">g_win32_getlocale</span> <span class="p">();</span>
<a name="line-321"></a><span class="cp">#endif</span>
<a name="line-322"></a>      <span class="cm">/* We should NOT translate only if all the following hold:</span>
<a name="line-323"></a><span class="cm">       *   - user has called textdomain() and set textdomain to non-default</span>
<a name="line-324"></a><span class="cm">       *   - default domain has no translations</span>
<a name="line-325"></a><span class="cm">       *   - locale does not start with &quot;en_&quot; and is not &quot;C&quot;</span>
<a name="line-326"></a><span class="cm">       *</span>
<a name="line-327"></a><span class="cm">       * Rationale:</span>
<a name="line-328"></a><span class="cm">       *   - If text domain is still the default domain, maybe user calls</span>
<a name="line-329"></a><span class="cm">       *     it later. Continue with old behavior of translating.</span>
<a name="line-330"></a><span class="cm">       *   - If locale starts with &quot;en_&quot;, we can continue using the</span>
<a name="line-331"></a><span class="cm">       *     translations even if the app doesn&#39;t have translations for</span>
<a name="line-332"></a><span class="cm">       *     this locale.  That is, en_UK and en_CA for example.</span>
<a name="line-333"></a><span class="cm">       *   - If locale is &quot;C&quot;, maybe user calls setlocale(LC_ALL,&quot;&quot;) later.</span>
<a name="line-334"></a><span class="cm">       *     Continue with old behavior of translating.</span>
<a name="line-335"></a><span class="cm">       */</span>
<a name="line-336"></a>      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">default_domain</span> <span class="o">||</span> <span class="o">!</span><span class="n">translator_comment</span> <span class="o">||</span> <span class="o">!</span><span class="n">translate_locale</span> <span class="o">||</span>
<a name="line-337"></a>          <span class="p">(</span><span class="mi">0</span> <span class="o">!=</span> <span class="n">strcmp</span> <span class="p">(</span><span class="n">default_domain</span><span class="p">,</span> <span class="s">&quot;messages&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
<a name="line-338"></a>          <span class="sc">&#39;\0&#39;</span> <span class="o">==</span> <span class="o">*</span><span class="n">translator_comment</span> <span class="o">&amp;&amp;</span>
<a name="line-339"></a>          <span class="mi">0</span> <span class="o">!=</span> <span class="n">strncmp</span> <span class="p">(</span><span class="n">translate_locale</span><span class="p">,</span> <span class="s">&quot;en_&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
<a name="line-340"></a>          <span class="mi">0</span> <span class="o">!=</span> <span class="n">strcmp</span> <span class="p">(</span><span class="n">translate_locale</span><span class="p">,</span> <span class="s">&quot;C&quot;</span><span class="p">)))</span>
<a name="line-341"></a>        <span class="n">should_translate</span> <span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
<a name="line-342"></a>
<a name="line-343"></a>      <span class="n">g_once_init_leave</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">translate</span><span class="p">,</span>
<a name="line-344"></a>                         <span class="n">should_translate</span> <span class="o">?</span>
<a name="line-345"></a>                         <span class="nl">SHOULD_TRANSLATE</span> <span class="p">:</span>
<a name="line-346"></a>                         <span class="n">SHOULD_NOT_TRANSLATE</span><span class="p">);</span>
<a name="line-347"></a>    <span class="p">}</span>
<a name="line-348"></a>
<a name="line-349"></a>  <span class="k">return</span> <span class="n">translate</span> <span class="o">==</span> <span class="n">SHOULD_TRANSLATE</span><span class="p">;</span>
<a name="line-350"></a><span class="p">}</span>
<a name="line-351"></a>
<a name="line-352"></a><span class="cm">/**</span>
<a name="line-353"></a><span class="cm"> * g_dgettext:</span>
<a name="line-354"></a><span class="cm"> * @domain: (nullable): the translation domain to use, or %NULL to use</span>
<a name="line-355"></a><span class="cm"> *   the domain set with textdomain()</span>
<a name="line-356"></a><span class="cm"> * @msgid: message to translate</span>
<a name="line-357"></a><span class="cm"> *</span>
<a name="line-358"></a><span class="cm"> * This function is a wrapper of dgettext() which does not translate</span>
<a name="line-359"></a><span class="cm"> * the message if the default domain as set with textdomain() has no</span>
<a name="line-360"></a><span class="cm"> * translations for the current locale.</span>
<a name="line-361"></a><span class="cm"> *</span>
<a name="line-362"></a><span class="cm"> * The advantage of using this function over dgettext() proper is that</span>
<a name="line-363"></a><span class="cm"> * libraries using this function (like GTK+) will not use translations</span>
<a name="line-364"></a><span class="cm"> * if the application using the library does not have translations for</span>
<a name="line-365"></a><span class="cm"> * the current locale.  This results in a consistent English-only</span>
<a name="line-366"></a><span class="cm"> * interface instead of one having partial translations.  For this</span>
<a name="line-367"></a><span class="cm"> * feature to work, the call to textdomain() and setlocale() should</span>
<a name="line-368"></a><span class="cm"> * precede any g_dgettext() invocations.  For GTK+, it means calling</span>
<a name="line-369"></a><span class="cm"> * textdomain() before gtk_init or its variants.</span>
<a name="line-370"></a><span class="cm"> *</span>
<a name="line-371"></a><span class="cm"> * This function disables translations if and only if upon its first</span>
<a name="line-372"></a><span class="cm"> * call all the following conditions hold:</span>
<a name="line-373"></a><span class="cm"> * </span>
<a name="line-374"></a><span class="cm"> * - @domain is not %NULL</span>
<a name="line-375"></a><span class="cm"> *</span>
<a name="line-376"></a><span class="cm"> * - textdomain() has been called to set a default text domain</span>
<a name="line-377"></a><span class="cm"> *</span>
<a name="line-378"></a><span class="cm"> * - there is no translations available for the default text domain</span>
<a name="line-379"></a><span class="cm"> *   and the current locale</span>
<a name="line-380"></a><span class="cm"> *</span>
<a name="line-381"></a><span class="cm"> * - current locale is not &quot;C&quot; or any English locales (those</span>
<a name="line-382"></a><span class="cm"> *   starting with &quot;en_&quot;)</span>
<a name="line-383"></a><span class="cm"> *</span>
<a name="line-384"></a><span class="cm"> * Note that this behavior may not be desired for example if an application</span>
<a name="line-385"></a><span class="cm"> * has its untranslated messages in a language other than English. In those</span>
<a name="line-386"></a><span class="cm"> * cases the application should call textdomain() after initializing GTK+.</span>
<a name="line-387"></a><span class="cm"> *</span>
<a name="line-388"></a><span class="cm"> * Applications should normally not use this function directly,</span>
<a name="line-389"></a><span class="cm"> * but use the _() macro for translations.</span>
<a name="line-390"></a><span class="cm"> *</span>
<a name="line-391"></a><span class="cm"> * Returns: The translated string</span>
<a name="line-392"></a><span class="cm"> *</span>
<a name="line-393"></a><span class="cm"> * Since: 2.18</span>
<a name="line-394"></a><span class="cm"> */</span>
<a name="line-395"></a><span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span>
<a name="line-396"></a><span class="n">g_dgettext</span> <span class="p">(</span><span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span><span class="n">domain</span><span class="p">,</span>
<a name="line-397"></a>            <span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span><span class="n">msgid</span><span class="p">)</span>
<a name="line-398"></a><span class="p">{</span>
<a name="line-399"></a>  <span class="k">if</span> <span class="p">(</span><span class="n">domain</span> <span class="o">&amp;&amp;</span> <span class="n">G_UNLIKELY</span> <span class="p">(</span><span class="o">!</span><span class="n">_g_dgettext_should_translate</span> <span class="p">()))</span>
<a name="line-400"></a>    <span class="k">return</span> <span class="n">msgid</span><span class="p">;</span>
<a name="line-401"></a>
<a name="line-402"></a>  <span class="k">return</span> <span class="nf">dgettext</span> <span class="p">(</span><span class="n">domain</span><span class="p">,</span> <span class="n">msgid</span><span class="p">);</span>
<a name="line-403"></a><span class="p">}</span>
<a name="line-404"></a>
<a name="line-405"></a><span class="cm">/**</span>
<a name="line-406"></a><span class="cm"> * g_dcgettext:</span>
<a name="line-407"></a><span class="cm"> * @domain: (nullable): the translation domain to use, or %NULL to use</span>
<a name="line-408"></a><span class="cm"> *   the domain set with textdomain()</span>
<a name="line-409"></a><span class="cm"> * @msgid: message to translate</span>
<a name="line-410"></a><span class="cm"> * @category: a locale category</span>
<a name="line-411"></a><span class="cm"> *</span>
<a name="line-412"></a><span class="cm"> * This is a variant of g_dgettext() that allows specifying a locale</span>
<a name="line-413"></a><span class="cm"> * category instead of always using `LC_MESSAGES`. See g_dgettext() for</span>
<a name="line-414"></a><span class="cm"> * more information about how this functions differs from calling</span>
<a name="line-415"></a><span class="cm"> * dcgettext() directly.</span>
<a name="line-416"></a><span class="cm"> *</span>
<a name="line-417"></a><span class="cm"> * Returns: the translated string for the given locale category</span>
<a name="line-418"></a><span class="cm"> *</span>
<a name="line-419"></a><span class="cm"> * Since: 2.26</span>
<a name="line-420"></a><span class="cm"> */</span>
<a name="line-421"></a><span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span>
<a name="line-422"></a><span class="n">g_dcgettext</span> <span class="p">(</span><span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span><span class="n">domain</span><span class="p">,</span>
<a name="line-423"></a>             <span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span><span class="n">msgid</span><span class="p">,</span>
<a name="line-424"></a>             <span class="n">gint</span>         <span class="n">category</span><span class="p">)</span>
<a name="line-425"></a><span class="p">{</span>
<a name="line-426"></a>  <span class="k">if</span> <span class="p">(</span><span class="n">domain</span> <span class="o">&amp;&amp;</span> <span class="n">G_UNLIKELY</span> <span class="p">(</span><span class="o">!</span><span class="n">_g_dgettext_should_translate</span> <span class="p">()))</span>
<a name="line-427"></a>    <span class="k">return</span> <span class="n">msgid</span><span class="p">;</span>
<a name="line-428"></a>
<a name="line-429"></a>  <span class="k">return</span> <span class="nf">dcgettext</span> <span class="p">(</span><span class="n">domain</span><span class="p">,</span> <span class="n">msgid</span><span class="p">,</span> <span class="n">category</span><span class="p">);</span>
<a name="line-430"></a><span class="p">}</span>
<a name="line-431"></a>
<a name="line-432"></a><span class="cm">/**</span>
<a name="line-433"></a><span class="cm"> * g_dngettext:</span>
<a name="line-434"></a><span class="cm"> * @domain: (nullable): the translation domain to use, or %NULL to use</span>
<a name="line-435"></a><span class="cm"> *   the domain set with textdomain()</span>
<a name="line-436"></a><span class="cm"> * @msgid: message to translate</span>
<a name="line-437"></a><span class="cm"> * @msgid_plural: plural form of the message</span>
<a name="line-438"></a><span class="cm"> * @n: the quantity for which translation is needed</span>
<a name="line-439"></a><span class="cm"> *</span>
<a name="line-440"></a><span class="cm"> * This function is a wrapper of dngettext() which does not translate</span>
<a name="line-441"></a><span class="cm"> * the message if the default domain as set with textdomain() has no</span>
<a name="line-442"></a><span class="cm"> * translations for the current locale.</span>
<a name="line-443"></a><span class="cm"> *</span>
<a name="line-444"></a><span class="cm"> * See g_dgettext() for details of how this differs from dngettext()</span>
<a name="line-445"></a><span class="cm"> * proper.</span>
<a name="line-446"></a><span class="cm"> *</span>
<a name="line-447"></a><span class="cm"> * Returns: The translated string</span>
<a name="line-448"></a><span class="cm"> *</span>
<a name="line-449"></a><span class="cm"> * Since: 2.18</span>
<a name="line-450"></a><span class="cm"> */</span>
<a name="line-451"></a><span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span>
<a name="line-452"></a><span class="n">g_dngettext</span> <span class="p">(</span><span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span><span class="n">domain</span><span class="p">,</span>
<a name="line-453"></a>             <span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span><span class="n">msgid</span><span class="p">,</span>
<a name="line-454"></a>             <span class="k">const</span> <span class="n">gchar</span> <span class="o">*</span><span class="n">msgid_plural</span><span class="p">,</span>
<a name="line-455"></a>             <span class="n">gulong</span>       <span class="n">n</span><span class="p">)</span>
<a name="line-456"></a><span class="p">{</span>
<a name="line-457"></a>  <span class="k">if</span> <span class="p">(</span><span class="n">domain</span> <span class="o">&amp;&amp;</span> <span class="n">G_UNLIKELY</span> <span class="p">(</span><span class="o">!</span><span class="n">_g_dgettext_should_translate</span> <span class="p">()))</span>
<a name="line-458"></a>    <span class="k">return</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">?</span> <span class="nl">msgid</span> <span class="p">:</span> <span class="n">msgid_plural</span><span class="p">;</span>
<a name="line-459"></a>
<a name="line-460"></a>  <span class="k">return</span> <span class="nf">dngettext</span> <span class="p">(</span><span class="n">domain</span><span class="p">,</span> <span class="n">msgid</span><span class="p">,</span> <span class="n">msgid_plural</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
<a name="line-461"></a><span class="p">}</span>
<a name="line-462"></a>
<a name="line-463"></a>
<a name="line-464"></a><span class="cm">/**</span>
<a name="line-465"></a><span class="cm"> * SECTION:i18n</span>
<a name="line-466"></a><span class="cm"> * @title: Internationalization</span>
<a name="line-467"></a><span class="cm"> * @short_description: gettext support macros</span>
<a name="line-468"></a><span class="cm"> * @see_also: the gettext manual</span>
<a name="line-469"></a><span class="cm"> *</span>
<a name="line-470"></a><span class="cm"> * GLib doesn&#39;t force any particular localization method upon its users.</span>
<a name="line-471"></a><span class="cm"> * But since GLib itself is localized using the gettext() mechanism, it seems</span>
<a name="line-472"></a><span class="cm"> * natural to offer the de-facto standard gettext() support macros in an</span>
<a name="line-473"></a><span class="cm"> * easy-to-use form.</span>
<a name="line-474"></a><span class="cm"> *</span>
<a name="line-475"></a><span class="cm"> * In order to use these macros in an application, you must include</span>
<a name="line-476"></a><span class="cm"> * `&lt;glib/gi18n.h&gt;`. For use in a library, you must include</span>
<a name="line-477"></a><span class="cm"> * `&lt;glib/gi18n-lib.h&gt;`</span>
<a name="line-478"></a><span class="cm"> * after defining the %GETTEXT_PACKAGE macro suitably for your library:</span>
<a name="line-479"></a><span class="cm"> * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<a name="line-480"></a><span class="cm"> * #define GETTEXT_PACKAGE &quot;gtk20&quot;</span>
<a name="line-481"></a><span class="cm"> * #include &lt;glib/gi18n-lib.h&gt;</span>
<a name="line-482"></a><span class="cm"> * ]|</span>
<a name="line-483"></a><span class="cm"> * For an application, note that you also have to call bindtextdomain(),</span>
<a name="line-484"></a><span class="cm"> * bind_textdomain_codeset(), textdomain() and setlocale() early on in your</span>
<a name="line-485"></a><span class="cm"> * main() to make gettext() work. For example:</span>
<a name="line-486"></a><span class="cm"> * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<a name="line-487"></a><span class="cm"> * #include &lt;glib/gi18n.h&gt;</span>
<a name="line-488"></a><span class="cm"> * #include &lt;locale.h&gt;</span>
<a name="line-489"></a><span class="cm"> *</span>
<a name="line-490"></a><span class="cm"> * int</span>
<a name="line-491"></a><span class="cm"> * main (int argc, char **argv)</span>
<a name="line-492"></a><span class="cm"> * {</span>
<a name="line-493"></a><span class="cm"> *   setlocale (LC_ALL, &quot;&quot;);</span>
<a name="line-494"></a><span class="cm"> *   bindtextdomain (GETTEXT_PACKAGE, DATADIR &quot;/locale&quot;);</span>
<a name="line-495"></a><span class="cm"> *   bind_textdomain_codeset (GETTEXT_PACKAGE, &quot;UTF-8&quot;);</span>
<a name="line-496"></a><span class="cm"> *   textdomain (GETTEXT_PACKAGE);</span>
<a name="line-497"></a><span class="cm"> *</span>
<a name="line-498"></a><span class="cm"> *   // Rest of your application.</span>
<a name="line-499"></a><span class="cm"> * }</span>
<a name="line-500"></a><span class="cm"> * ]|</span>
<a name="line-501"></a><span class="cm"> * where `DATADIR` is as typically provided by automake or Meson.</span>
<a name="line-502"></a><span class="cm"> *</span>
<a name="line-503"></a><span class="cm"> * For a library, you only have to call bindtextdomain() and</span>
<a name="line-504"></a><span class="cm"> * bind_textdomain_codeset() in your initialization function. If your library</span>
<a name="line-505"></a><span class="cm"> * doesn&#39;t have an initialization function, you can call the functions before</span>
<a name="line-506"></a><span class="cm"> * the first translated message.</span>
<a name="line-507"></a><span class="cm"> *</span>
<a name="line-508"></a><span class="cm"> * The</span>
<a name="line-509"></a><span class="cm"> * [gettext manual](http://www.gnu.org/software/gettext/manual/gettext.html#Maintainers)</span>
<a name="line-510"></a><span class="cm"> * covers details of how to integrate gettext into a projects build system and</span>
<a name="line-511"></a><span class="cm"> * workflow.</span>
<a name="line-512"></a><span class="cm"> */</span>
<a name="line-513"></a>
<a name="line-514"></a><span class="cm">/**</span>
<a name="line-515"></a><span class="cm"> * _:</span>
<a name="line-516"></a><span class="cm"> * @String: the string to be translated</span>
<a name="line-517"></a><span class="cm"> *</span>
<a name="line-518"></a><span class="cm"> * Marks a string for translation, gets replaced with the translated string</span>
<a name="line-519"></a><span class="cm"> * at runtime.</span>
<a name="line-520"></a><span class="cm"> *</span>
<a name="line-521"></a><span class="cm"> * Since: 2.4</span>
<a name="line-522"></a><span class="cm"> */</span>
<a name="line-523"></a>
<a name="line-524"></a><span class="cm">/**</span>
<a name="line-525"></a><span class="cm"> * Q_:</span>
<a name="line-526"></a><span class="cm"> * @String: the string to be translated, with a &#39;|&#39;-separated prefix</span>
<a name="line-527"></a><span class="cm"> *     which must not be translated</span>
<a name="line-528"></a><span class="cm"> *</span>
<a name="line-529"></a><span class="cm"> * Like _(), but handles context in message ids. This has the advantage</span>
<a name="line-530"></a><span class="cm"> * that the string can be adorned with a prefix to guarantee uniqueness</span>
<a name="line-531"></a><span class="cm"> * and provide context to the translator.</span>
<a name="line-532"></a><span class="cm"> *</span>
<a name="line-533"></a><span class="cm"> * One use case given in the gettext manual is GUI translation, where one</span>
<a name="line-534"></a><span class="cm"> * could e.g. disambiguate two &quot;Open&quot; menu entries as &quot;File|Open&quot; and</span>
<a name="line-535"></a><span class="cm"> * &quot;Printer|Open&quot;. Another use case is the string &quot;Russian&quot; which may</span>
<a name="line-536"></a><span class="cm"> * have to be translated differently depending on whether it&#39;s the name</span>
<a name="line-537"></a><span class="cm"> * of a character set or a language. This could be solved by using</span>
<a name="line-538"></a><span class="cm"> * &quot;charset|Russian&quot; and &quot;language|Russian&quot;.</span>
<a name="line-539"></a><span class="cm"> *</span>
<a name="line-540"></a><span class="cm"> * See the C_() macro for a different way to mark up translatable strings</span>
<a name="line-541"></a><span class="cm"> * with context.</span>
<a name="line-542"></a><span class="cm"> *</span>
<a name="line-543"></a><span class="cm"> * If you are using the Q_() macro, you need to make sure that you pass</span>
<a name="line-544"></a><span class="cm"> * `--keyword=Q_` to xgettext when extracting messages.</span>
<a name="line-545"></a><span class="cm"> * If you are using GNU gettext &gt;= 0.15, you can also use</span>
<a name="line-546"></a><span class="cm"> * `--keyword=Q_:1g` to let xgettext split the context</span>
<a name="line-547"></a><span class="cm"> * string off into a msgctxt line in the po file.</span>
<a name="line-548"></a><span class="cm"> *</span>
<a name="line-549"></a><span class="cm"> * Returns: the translated message</span>
<a name="line-550"></a><span class="cm"> *</span>
<a name="line-551"></a><span class="cm"> * Since: 2.4</span>
<a name="line-552"></a><span class="cm"> */</span>
<a name="line-553"></a>
<a name="line-554"></a><span class="cm">/**</span>
<a name="line-555"></a><span class="cm"> * C_:</span>
<a name="line-556"></a><span class="cm"> * @Context: a message context, must be a string literal</span>
<a name="line-557"></a><span class="cm"> * @String: a message id, must be a string literal</span>
<a name="line-558"></a><span class="cm"> *</span>
<a name="line-559"></a><span class="cm"> * Uses gettext to get the translation for @String. @Context is</span>
<a name="line-560"></a><span class="cm"> * used as a context. This is mainly useful for short strings which</span>
<a name="line-561"></a><span class="cm"> * may need different translations, depending on the context in which</span>
<a name="line-562"></a><span class="cm"> * they are used.</span>
<a name="line-563"></a><span class="cm"> * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<a name="line-564"></a><span class="cm"> * label1 = C_(&quot;Navigation&quot;, &quot;Back&quot;);</span>
<a name="line-565"></a><span class="cm"> * label2 = C_(&quot;Body part&quot;, &quot;Back&quot;);</span>
<a name="line-566"></a><span class="cm"> * ]|</span>
<a name="line-567"></a><span class="cm"> *</span>
<a name="line-568"></a><span class="cm"> * If you are using the C_() macro, you need to make sure that you pass</span>
<a name="line-569"></a><span class="cm"> * `--keyword=C_:1c,2` to xgettext when extracting messages.</span>
<a name="line-570"></a><span class="cm"> * Note that this only works with GNU gettext &gt;= 0.15.</span>
<a name="line-571"></a><span class="cm"> *</span>
<a name="line-572"></a><span class="cm"> * Returns: the translated message</span>
<a name="line-573"></a><span class="cm"> *</span>
<a name="line-574"></a><span class="cm"> * Since: 2.16</span>
<a name="line-575"></a><span class="cm"> */</span>
<a name="line-576"></a>
<a name="line-577"></a><span class="cm">/**</span>
<a name="line-578"></a><span class="cm"> * N_:</span>
<a name="line-579"></a><span class="cm"> * @String: the string to be translated</span>
<a name="line-580"></a><span class="cm"> *</span>
<a name="line-581"></a><span class="cm"> * Only marks a string for translation. This is useful in situations</span>
<a name="line-582"></a><span class="cm"> * where the translated strings can&#39;t be directly used, e.g. in string</span>
<a name="line-583"></a><span class="cm"> * array initializers. To get the translated string, call gettext()</span>
<a name="line-584"></a><span class="cm"> * at runtime.</span>
<a name="line-585"></a><span class="cm"> * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<a name="line-586"></a><span class="cm"> * {</span>
<a name="line-587"></a><span class="cm"> *   static const char *messages[] = {</span>
<a name="line-588"></a><span class="cm"> *     N_(&quot;some very meaningful message&quot;),</span>
<a name="line-589"></a><span class="cm"> *     N_(&quot;and another one&quot;)</span>
<a name="line-590"></a><span class="cm"> *   };</span>
<a name="line-591"></a><span class="cm"> *   const char *string;</span>
<a name="line-592"></a><span class="cm"> *   ...</span>
<a name="line-593"></a><span class="cm"> *   string</span>
<a name="line-594"></a><span class="cm"> *     = index &amp;gt; 1 ? _(&quot;a default message&quot;) : gettext (messages[index]);</span>
<a name="line-595"></a><span class="cm"> *</span>
<a name="line-596"></a><span class="cm"> *   fputs (string);</span>
<a name="line-597"></a><span class="cm"> *   ...</span>
<a name="line-598"></a><span class="cm"> * }</span>
<a name="line-599"></a><span class="cm"> * ]|</span>
<a name="line-600"></a><span class="cm"> *</span>
<a name="line-601"></a><span class="cm"> * Since: 2.4</span>
<a name="line-602"></a><span class="cm"> */</span>
<a name="line-603"></a>
<a name="line-604"></a><span class="cm">/**</span>
<a name="line-605"></a><span class="cm"> * NC_:</span>
<a name="line-606"></a><span class="cm"> * @Context: a message context, must be a string literal</span>
<a name="line-607"></a><span class="cm"> * @String: a message id, must be a string literal</span>
<a name="line-608"></a><span class="cm"> *</span>
<a name="line-609"></a><span class="cm"> * Only marks a string for translation, with context.</span>
<a name="line-610"></a><span class="cm"> * This is useful in situations where the translated strings can&#39;t</span>
<a name="line-611"></a><span class="cm"> * be directly used, e.g. in string array initializers. To get the</span>
<a name="line-612"></a><span class="cm"> * translated string, you should call g_dpgettext2() at runtime.</span>
<a name="line-613"></a><span class="cm"> *</span>
<a name="line-614"></a><span class="cm"> * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<a name="line-615"></a><span class="cm"> * {</span>
<a name="line-616"></a><span class="cm"> *   static const char *messages[] = {</span>
<a name="line-617"></a><span class="cm"> *     NC_(&quot;some context&quot;, &quot;some very meaningful message&quot;),</span>
<a name="line-618"></a><span class="cm"> *     NC_(&quot;some context&quot;, &quot;and another one&quot;)</span>
<a name="line-619"></a><span class="cm"> *   };</span>
<a name="line-620"></a><span class="cm"> *   const char *string;</span>
<a name="line-621"></a><span class="cm"> *   ...</span>
<a name="line-622"></a><span class="cm"> *   string</span>
<a name="line-623"></a><span class="cm"> *     = index &gt; 1 ? g_dpgettext2 (NULL, &quot;some context&quot;, &quot;a default message&quot;)</span>
<a name="line-624"></a><span class="cm"> *                 : g_dpgettext2 (NULL, &quot;some context&quot;, messages[index]);</span>
<a name="line-625"></a><span class="cm"> *</span>
<a name="line-626"></a><span class="cm"> *   fputs (string);</span>
<a name="line-627"></a><span class="cm"> *   ...</span>
<a name="line-628"></a><span class="cm"> * }</span>
<a name="line-629"></a><span class="cm"> * ]|</span>
<a name="line-630"></a><span class="cm"> *</span>
<a name="line-631"></a><span class="cm"> * If you are using the NC_() macro, you need to make sure that you pass</span>
<a name="line-632"></a><span class="cm"> * `--keyword=NC_:1c,2` to xgettext when extracting messages.</span>
<a name="line-633"></a><span class="cm"> * Note that this only works with GNU gettext &gt;= 0.15. Intltool has support</span>
<a name="line-634"></a><span class="cm"> * for the NC_() macro since version 0.40.1.</span>
<a name="line-635"></a><span class="cm"> *</span>
<a name="line-636"></a><span class="cm"> * Since: 2.18</span>
<a name="line-637"></a><span class="cm"> */</span>
</pre></div>
</td></tr></table>
      </div> <!-- /.wrapper -->
    </div>
    <div id="footer" class="footer">
      <p>
        Cppcheck 2.3 - a tool for static C/C++ code analysis<br>
        <br>
        Internet: <a href="http://cppcheck.net">http://cppcheck.net</a><br>
        IRC: <a href="irc://irc.freenode.net/cppcheck">irc://irc.freenode.net/cppcheck</a><br>
      </p>
    </div>
  </body>
</html>
